<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <script>
      window.addEventListener("load", function (evt) {
        const output = document.getElementById("output");
        const print = function (message) {
          const d = document.createElement("div");
          d.textContent = message;
          output.appendChild(d);
          output.scroll(0, output.scrollHeight);
        };
        const url = `ws://${location.host}/ws`;
        ws = new WebSocket(url);

        ws.onmessage = function (evt) {
          print(evt.data);
        };
        ws.onerror = function (evt) {
          print("ERROR: " + evt.data);
        };
      });
    </script>
  </head>
  <body>
    <div id="output" style="max-height: 70vh; overflow-y: scroll"></div>
  </body>
</html>
